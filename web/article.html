<!DOCTYPE html>
<!--
全页采用[上下（左中右）]布局；
布局方式统一用：display：flex完成；
除了页面里的textArea；

网页总宽1165px；
顶部高度35px（提供15px的margin）；

左侧宽度（110px）；
中间宽度（655px）；
右侧宽度（340px）;
左中空白25px，右中空白35px；
margin值由middle提供；

可能需要的颜色：
#F1F2F4
#8FDAFD
#6D6D6D
#4197E8

searchBar按钮宽度77px，高度45px，字号19px

css在同一目录下
-->
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../css/article.css">
    <script type="text/javascript" src="js_lib/jquery-3.3.1.js"></script>
</head>

<body>
    <div class="content">
        <header class="head">
            <div class="head_right">
                <ul>
                    <li class="head_list">
                        <a class="button2" href="#">反馈</a>
                    </li>
                    <li class="head_list">
                        <a class="button1" href="#">发文</a>
                    </li>
                </ul>
            </div>
        </header>
        <div class="main">
            <div class="left">
                <div class="logo">
                    <img src="pic/logo.png" alt="">
                </div>
                <nav class="navigator">
                </nav>
            </div>
            <div class="middle">
                <div class="article">
                    <div class="artHead">
                        <h1>这是文章标题</h1>
                        <div class="artInfo">
                            <span>作者</span>
                            <span>2018年01月31号</span>
                        </div>
                    </div>
                    <div class="artMain">

                    </div>
                    <div class="artPosNeg">
                        <input type="button" value="赞">
                        <input type="button" value="踩">
                    </div>
                </div>
                
                <div class="comment">
                    <div class="comHead">
                        <span class="comNum">4</span>
                        <span class="comWord">条评论</span>
                    </div>
                    <div class="comEdit">
                        <form action="">
                            <div class="comEditText">
                                <textarea name="" id=""></textarea>
                            </div>
                            <div class="comEditButton">
                                <input type="button" value="评论">
                            </div>
                        </form>
                    </div>
                    <div class="comArea">
                        <div class="comMain">
                            <div class="comLeft">
                                <img src="pic/touxiang.jpg" alt="">
                            </div>
                            <div class="comRight">
                                <div class="comUserName">
                                    <span>用户名</span>
                                </div>
                                <div class="comContent">
                                    <p>
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论。
                                    </p>
                                </div> 
                            </div>
                        </div>

                        <div class="comMain">
                            <div class="comLeft">
                                <img src="pic/touxiang.jpg" alt="">
                            </div>
                            <div class="comRight">
                                <div class="comUserName">
                                    <span>用户名</span>
                                </div>
                                <div class="comContent">
                                    <p>
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论。
                                    </p>
                                </div> 
                            </div>
                        </div>

                        <div class="comMain">
                            <div class="comLeft">
                                <img src="pic/touxiang.jpg" alt="">
                            </div>
                            <div class="comRight">
                                <div class="comUserName">
                                    <span>用户名</span>
                                </div>
                                <div class="comContent">
                                    <p>
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论。
                                    </p>
                                </div> 
                            </div>
                        </div>

                        <div class="comMain">
                            <div class="comLeft">
                                <img src="pic/touxiang.jpg" alt="">
                            </div>
                            <div class="comRight">
                                <div class="comUserName">
                                    <span>用户名</span>
                                </div>
                                <div class="comContent">
                                    <p>
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论这是评论这是评论这是评论这是评论
                                    这是评论。
                                    </p>
                                </div> 
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="right">
                <div>
                    <input class="input_find" type="text">
                    <input class="button_find" type="submit" value="搜索">
                </div>
                <div class="hot_news">
                    <div class="blue_wire"></div>
                    <h3 style="height: 35px">&nbsp;24小时热门新闻</h3>
                    <ul class="hot_ul">
                        <li>
                            <a href="#">
                                <div class="hot_img_box">
                                    <img class="hot_img" src="pic/1.jpg">
                                </div>
                                <div class="hot_title_box">
                                    <p class="hot_title">王嘉尔官本位表格范围分为非仍无法合并个人版</p>
                                </div>
                            </a>
                        </li>
                        <hr/>
                        <li>
                            <a href="#">
                                <div class="hot_img_box">
                                    <img class="hot_img" src="pic/1.jpg">
                                </div>
                                <div class="hot_title_box">
                                    <p class="hot_title">王嘉尔官本位表格合并个人版</p>
                                </div>
                            </a>
                        </li>
                        <hr/>
                        <li>
                            <a href="#">
                                <div class="hot_img_box">
                                    <img class="hot_img" src="pic/1.jpg">
                                </div>
                                <div class="hot_title_box">
                                    <p class="hot_title">王嘉尔官本位表格合并个人版</p>
                                </div>
                            </a>
                        </li>
                        <hr/>
                        <li>
                            <a href="#">
                                <div class="hot_img_box">
                                    <img class="hot_img" src="pic/1.jpg">
                                </div>
                                <div class="hot_title_box">
                                    <p class="hot_title">王嘉尔官本位表格合并个人版</p>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>


            </div>
        </div>
        
    </div>
</body>
<script>

    $(document).ready(function () {
        //增加 点赞样式加载，，以及评论的加载
        $.ajax({
            type:"post",
            url:"ArticleAjaxServlet",
            data:{
                id:getUrlParam('id')
            },
            dateType:"json",
            success:function (data) {
                $('.artHead > h1').html(data.data.title);
                $('.artMain').html(data.data.content);
            },
            error:function (error) {
                console.log("发生错误"+error.status);
            }
        })





        $('.artPosNeg > input').each(function(index){
            $(this).on('click',function(){
                console.log($(this).css("color"))
                if ($(this).css("color") == "rgb(255, 255, 255)"){
                    console.log(33);
                    $(this).css("color","red");

                    $.ajax({
                        type:"POST",
                        url:"LikeandDislikeServlet",
                        data:{
                            param:index,
                            id:getUrlParam('id')
                        },
                        success:function(){
                            console.log("更新成功"+index+"+1")
                        },
                        error:function (error) {
                            console.log("发生错误"+error.status);
                        },
                    })
                }
                else if ($(this).css("color") == "rgb(255, 0, 0)"){
                    console.log(33);
                    $(this).css("color","#ffffff");

                    $.ajax({
                        type:"GET",
                        url:"LikeandDislikeServlet",
                        data:{
                            param:index,
                            id:getUrlParam('id')
                        },
                        success:function(){
                            console.log("更新成功"+index+"-1")
                        },
                        error:function (error) {
                            console.log("发生错误"+error.status);
                        },
                    })
                }
            })
        })

    })

    function getUrlParam(name){
        var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if (r!=null) return unescape(r[2]);
        return null;
    }

</script>

</html>